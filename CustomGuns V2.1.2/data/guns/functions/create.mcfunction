execute unless data entity @s SelectedItem run return run tellraw @s {"text":"You need to hold an item in your main hand to use this command!","color":"red"}
execute if items entity @s weapon.mainhand #minecraft:unsupported run return run tellraw @s {"text":"This item is not supported by the datapack because it already has a vanilla right-click function.","color":"red"}

$execute unless items entity @s weapon.mainhand #minecraft:unsupported run return run item modify entity @s weapon.mainhand [{"function": "minecraft:set_components","components": {"minecraft:food": {"nutrition": 0,"saturation": 0,"can_always_eat": true,"eat_seconds": 999999999},"minecraft:custom_data": {"bullet_type": $(bullet_type), "damage": $(damage), "range": $(range), "reload_bullets": $(bullets), "name": $(name), "bullets": $(bullets), "cooldown": $(cooldown), "headshot": $(headshot), "bloom": $(bloom), "semi-auto": $(semi_auto), "reload_time": $(reload_time)}}},{"function": "minecraft:set_name","name": {"color": "$(color)","italic":false,"text":"$(name)"}}]
